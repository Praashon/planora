@import "tailwindcss";

@theme {
  --color-background: #ffffff;
  --color-foreground: #111111;
  --color-surface: #fcfcfc;
  --color-surface-highlight: #f3f4f6;
  --color-primary: #111111;
  --color-secondary: #cc7351;
  --color-accent: #98a595;
  --font-serif: "Instrument Serif", serif;
  --font-sans: Inter, sans-serif;
  --shadow-editorial: 0 4px 24px -6px rgba(0, 0, 0, 0.05); /* very soft, luxurious shadow */
}

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: "Instrument Serif", serif;
  }

  /* Custom Scrollbar */
  ::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: #e5e7eb;
    border-radius: 2px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #9ca3af;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center justify-center rounded-none font-medium transition-all duration-300 focus:outline-none focus:ring-1 focus:ring-black focus:ring-offset-2 disabled:opacity-40 disabled:cursor-not-allowed;

    &.btn--primary {
      @apply bg-primary text-white hover:bg-zinc-800;
    }

    &.btn--secondary {
      @apply bg-transparent text-black border border-zinc-200 hover:border-black;
    }

    &.btn--ghost {
      @apply text-zinc-500 hover:text-black hover:bg-zinc-50;
    }

    &.btn--outline {
      @apply bg-transparent border-b border-black text-black hover:pb-1 pb-0 mb-1 transition-all;
    }

    &.btn--sm {
      @apply px-4 py-2 text-[10px] uppercase tracking-[0.2em] font-bold;
    }

    &.btn--md {
      @apply px-6 py-3 text-xs uppercase tracking-wider font-medium;
    }

    &.btn--lg {
      @apply px-10 py-4 text-xs uppercase tracking-[0.15em] font-semibold;
    }

    &.btn--full {
      @apply w-full;
    }
  }

  .card {
    @apply bg-surface border border-zinc-100 rounded-none p-8 hover:shadow-editorial transition-shadow duration-500;

    .header {
      @apply flex justify-between items-center mb-6 border-b border-zinc-100 pb-4;

      h3 {
        @apply text-xl font-serif text-black;
      }
    }
  }

  .navbar {
    @apply fixed top-0 w-full z-50 bg-white/80 backdrop-blur-md border-b border-zinc-200 transition-all duration-500;

    .inner {
      @apply max-w-7xl mx-auto px-6 h-20 flex items-center justify-between;

      .left {
        @apply flex items-center space-x-12;

        .brand {
          @apply flex items-center space-x-3 cursor-pointer;

          &:hover .logo {
            @apply rotate-12;
          }

          .logo {
            @apply w-5 h-5 text-black transition-transform duration-500;
          }

          .name {
            @apply text-2xl font-serif text-black tracking-tight;
          }
        }

        .links {
          @apply hidden md:flex items-center space-x-8;

          a {
            @apply text-xs font-mono uppercase tracking-widest text-zinc-500 hover:text-black transition-colors relative;

            &::after {
              content: "";
              @apply absolute -bottom-2 left-0 w-0 h-px bg-black transition-all duration-300;
            }

            &:hover::after {
              @apply w-full;
            }
          }
        }
      }

      .actions {
        @apply flex items-center space-x-6;

        .greeting {
          @apply text-xs font-mono uppercase tracking-widest text-zinc-400;
        }

        .btn {
          @apply rounded-none;
        }

        .login {
          @apply text-xs font-bold uppercase tracking-widest text-zinc-900 hover:text-primary transition-colors;
        }

        .cta {
          @apply inline-flex items-center justify-center rounded-none font-medium transition-all duration-300 focus:outline-none focus:ring-1 focus:ring-black focus:ring-offset-2 disabled:opacity-40 disabled:cursor-not-allowed px-5 py-2.5 text-xs uppercase tracking-[0.1em] bg-black text-white hover:bg-zinc-800 shadow-sm hover:shadow-md;
        }
      }
    }
  }

  .auth-modal {
    @apply absolute inset-0 z-60 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4;

    .panel {
      @apply bg-white rounded-xl shadow-2xl max-w-md w-full p-6 text-center border border-zinc-200;

      .icon {
        @apply w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4;

        .alert {
          @apply text-primary w-6 h-6;
        }
      }

      h3 {
        @apply text-xl font-serif font-bold text-black mb-2;
      }

      p {
        @apply text-zinc-600 text-sm mb-6 leading-relaxed;
      }

      .actions {
        @apply flex flex-col space-y-3;

        .confirm {
          @apply bg-primary hover:bg-orange-600 text-white;
        }

        .cancel {
          @apply text-xs text-zinc-400 hover:text-black mt-2;
        }
      }
    }
  }

  .upload {
    @apply w-full;

    .dropzone {
      @apply relative h-64 border border-zinc-200 transition-all duration-500 flex flex-col items-center justify-center cursor-pointer bg-white hover:border-black hover:shadow-editorial overflow-hidden;

      &.is-dragging {
        @apply border-black bg-zinc-50 scale-[1.02];

        .drop-icon {
          @apply text-black scale-110;
        }
      }

      &:hover .drop-content {
        @apply -translate-y-2;
      }

      &:hover .drop-icon {
        @apply text-black;
      }

      .drop-input {
        @apply absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10;
      }

      .drop-content {
        @apply flex flex-col items-center pointer-events-none transition-transform duration-500;

        .drop-icon {
          @apply w-12 h-12 flex items-center justify-center mb-6 transition-all duration-500 text-zinc-400;
        }

        p {
          @apply text-black font-serif text-2xl mb-2;
        }

        .help {
          @apply text-zinc-400 text-xs font-mono uppercase tracking-widest;
        }
      }
    }

    .upload-status {
      @apply h-64 border border-zinc-200 bg-white p-8 flex flex-col justify-center relative overflow-hidden;

      .status-content {
        @apply relative z-10 flex flex-col items-center justify-center text-center;

        .status-icon {
          @apply w-16 h-16 flex items-center justify-center text-black mb-6;

          .check {
            @apply text-black w-8 h-8;
          }

          .image {
            @apply w-8 h-8 animate-pulse text-zinc-400;
          }
        }

        h3 {
          @apply text-black font-serif text-xl truncate max-w-full px-4 mb-6;
        }

        .progress {
          @apply w-full max-w-64 h-px bg-zinc-200 relative overflow-hidden;

          .bar {
            @apply h-full bg-black transition-all duration-300 ease-out absolute top-0 left-0;
          }
        }

        .status-text {
          @apply text-zinc-400 text-[10px] font-mono uppercase tracking-[0.2em] mt-6;
        }
      }
    }
  }

  .visualizer {
    @apply min-h-screen bg-background pt-8 pb-12 px-6 lg:px-12 flex flex-col items-center font-sans relative;

    .topbar {
      @apply w-full max-w-[1400px] flex items-center justify-between mb-8;

      .brand {
        @apply flex items-center space-x-3 cursor-pointer;

        &:hover .logo {
          @apply rotate-12;
        }

        .logo {
          @apply w-5 h-5 text-black transition-transform duration-500;
        }

        .name {
          @apply text-2xl font-serif text-black tracking-tight;
        }
      }

      .exit {
        @apply text-xs font-mono uppercase tracking-[0.2em] text-zinc-500 hover:text-black transition-colors;

        .icon {
          @apply w-4 h-4 mr-2 inline-block -mt-1;
        }
      }
    }

    .content {
      @apply w-full max-w-[1400px] grid grid-cols-1 lg:grid-cols-12 gap-8;
    }

    .panel {
      @apply bg-white border border-zinc-200 overflow-hidden;

      .panel-header {
        @apply flex flex-col md:flex-row md:items-end md:justify-between gap-6 p-8 border-b border-zinc-100 bg-white z-10 relative;

        .panel-meta {
          p {
            @apply text-[10px] font-mono uppercase tracking-[0.2em] text-zinc-400 mb-2;
          }

          h2 {
            @apply text-4xl lg:text-5xl font-serif text-black leading-[0.9];
          }

          h3 {
            @apply text-2xl font-serif text-black;
          }

          .note {
            @apply text-xs font-mono tracking-widest text-zinc-400 mt-4 uppercase;
          }
        }

        .panel-actions {
          @apply flex flex-wrap items-center gap-4;

          .export {
            @apply bg-black text-white hover:bg-zinc-800 transition-all border border-black shadow-none px-6 py-2.5 text-xs font-mono uppercase tracking-[0.1em];
          }

          .share {
            @apply bg-transparent text-black border border-zinc-200 hover:border-black px-6 py-2.5 text-xs font-mono uppercase tracking-[0.1em] transition-all;
          }
        }
      }

      .render-area {
        @apply relative bg-zinc-50 min-h-[600px] flex items-center justify-center p-8;

        .render-img {
          @apply w-full max-h-[800px] object-contain transition-all duration-700 opacity-100 scale-100 shadow-editorial;
        }

        &.is-processing {
          .render-img {
            @apply opacity-30 blur-md scale-105;
          }
        }

        .render-placeholder {
          @apply w-full h-full flex items-center justify-center;
        }

        .render-fallback {
          @apply w-full max-h-[800px] object-contain opacity-50 grayscale;
        }

        .render-overlay {
          @apply absolute inset-0 flex flex-col items-center justify-center z-30 bg-white/70 backdrop-blur-md transition-opacity duration-500;

          .rendering-card {
            @apply bg-white px-10 py-8 border border-zinc-200 flex flex-col items-center shadow-editorial;

            .spinner {
              @apply w-8 h-8 mb-6 animate-spin text-black;
            }

            .title {
              @apply text-xl font-serif text-black tracking-tight;
            }

            .subtitle {
              @apply text-[10px] font-mono uppercase tracking-[0.2em] text-zinc-500 mt-3;
            }
          }
        }
      }

      &.compare {
        @apply shadow-none col-span-1 lg:col-span-12;

        .panel-header {
          @apply p-8;

          .hint {
            @apply text-[10px] font-mono uppercase tracking-[0.2em] text-zinc-400;
          }
        }

        .compare-stage {
          @apply relative bg-zinc-100 overflow-hidden p-8 flex items-center justify-center min-h-[600px];
        }

        .compare-fallback {
          @apply flex items-center justify-center;
        }

        .compare-img {
          @apply w-full max-h-[800px] object-contain shadow-editorial;
        }
      }

      &:first-child {
        @apply col-span-1 lg:col-span-12;
      }
    }
  }

  .home {
    @apply min-h-screen bg-background relative overflow-x-hidden text-foreground;

    .hero {
      @apply pt-40 pb-24 px-6 md:px-12 max-w-7xl mx-auto flex flex-col lg:flex-row items-center gap-16;

      .hero-content {
        @apply lg:w-1/2 flex flex-col items-start text-left;
      }

      .hero-visual {
        @apply lg:w-1/2 w-full max-w-xl;
      }

      .announce {
        @apply mb-8 inline-flex items-center px-4 py-1.5 bg-zinc-50 border border-zinc-200;

        .dot {
          @apply w-2 h-2 rounded-full bg-black my-auto mr-3;
        }

        p {
          @apply text-[10px] font-mono uppercase tracking-[0.2em] text-black;
        }
      }

      h1 {
        @apply text-6xl md:text-7xl lg:text-[88px] font-serif leading-[0.9] text-black mb-8 -tracking-[0.02em];
      }

      .subtitle {
        @apply max-w-lg text-sm md:text-base font-sans text-zinc-600 mb-12 leading-relaxed font-light;
      }

      .actions {
        @apply flex flex-col sm:flex-row gap-5 justify-start mb-0;

        .cta {
          @apply inline-flex items-center justify-center transition-all duration-300 px-8 py-4 text-xs font-mono uppercase tracking-[0.15em] bg-black text-white hover:bg-zinc-800 border border-black;

          &:hover .icon {
            @apply translate-x-1;
          }

          .icon {
            @apply ml-3 w-4 h-4 transition-transform duration-300;
          }
        }

        .demo {
          @apply px-8 py-4 bg-transparent text-black border-b border-black hover:pb-[17px] hover:pt-[15px] transition-all rounded-none uppercase text-xs font-mono tracking-[0.1em];
        }
      }

      .upload-shell {
        @apply w-full relative bg-white border border-zinc-200 p-8 shadow-editorial;

        .grid-overlay {
          @apply absolute inset-0 opacity-[0.03] pointer-events-none;

          background-image:
            linear-gradient(#000000 1px, transparent 1px),
            linear-gradient(90deg, #000000 1px, transparent 1px);

          background-size: 40px 40px;
        }

        .upload-card {
          @apply relative w-full bg-white z-10;

          .upload-head {
            @apply text-center mb-8 pb-8 border-b border-zinc-100;

            h3 {
              @apply text-3xl font-serif text-black mb-3;
            }

            p {
              @apply text-[10px] font-mono uppercase tracking-[0.15em] text-zinc-400;
            }
          }
        }
      }
    }

    .projects {
      @apply py-32 bg-zinc-50 border-t border-zinc-200 relative;

      .section-inner {
        @apply max-w-7xl mx-auto px-6 md:px-12;

        .section-head {
          @apply flex flex-col md:flex-row md:items-end justify-between mb-16 gap-6 pb-6 border-b border-zinc-200;

          .copy {
            @apply max-w-2xl;

            h2 {
              @apply text-5xl font-serif text-black leading-[0.9] -tracking-[0.02em];
            }

            p {
              @apply text-sm font-mono uppercase tracking-widest text-zinc-500 mt-6;
            }
          }
        }

        .loading {
          @apply flex items-center justify-center text-xs font-mono uppercase tracking-widest text-zinc-400 py-20;
        }

        .projects-grid {
          @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10;

          .project-card {
            @apply relative bg-white overflow-hidden border border-zinc-200 hover:border-black transition-all duration-500 cursor-pointer flex flex-col h-full;

            &:hover .preview img {
              @apply grayscale-0 scale-105;
            }

            &:hover .card-body .arrow {
              @apply bg-black border-black text-white;
            }

            .preview {
              @apply aspect-[4/3] overflow-hidden bg-zinc-100 relative;

              img {
                @apply w-full h-full object-cover transition-all duration-700 grayscale;
              }

              .badge {
                @apply absolute top-4 left-4 bg-white px-3 py-1.5 border border-zinc-200;

                span {
                  @apply text-[9px] font-mono uppercase tracking-[0.2em] text-black;
                }
              }
            }

            .card-body {
              @apply p-6 flex flex-col bg-white border-t border-zinc-100 grow;

              h3 {
                @apply text-2xl font-serif text-black transition-colors mb-4;
              }

              .meta {
                @apply flex items-center text-zinc-400 text-[10px] space-x-3 mt-auto pt-4 border-t border-zinc-50;

                span {
                  @apply font-mono uppercase tracking-[0.1em];
                }

                span:last-child {
                  @apply text-zinc-500;
                }
              }

              .arrow {
                @apply absolute bottom-6 right-6 w-8 h-8 rounded-full bg-transparent border border-zinc-300 flex items-center justify-center text-black transition-all duration-500;
              }
            }
          }

          .empty {
            @apply col-span-full border border-dashed border-zinc-300 bg-transparent p-16 text-center text-xs font-mono uppercase tracking-[0.2em] text-zinc-400;
          }
        }
      }
    }

    .partners {
      @apply border-t border-zinc-200 py-20 bg-white;

      .section-inner {
        @apply max-w-7xl mx-auto px-6 md:px-12 flex flex-col items-center;

        .partners-title {
          @apply text-[10px] font-mono uppercase tracking-[0.3em] text-zinc-400 mb-12 text-center;
        }

        .logos {
          @apply flex flex-wrap justify-center gap-12 md:gap-20 items-center opacity-40 grayscale hover:grayscale-0 transition-all duration-700;
        }

        .logo-item {
          @apply flex items-center justify-center space-x-3 cursor-pointer;

          div {
            @apply text-black transition-colors;
          }

          span {
            @apply font-serif text-3xl text-black transition-colors tracking-tight;
          }
        }
      }
    }
  }

  .visualizer-route {
    @apply min-h-screen flex items-center justify-center;

    &.loading {
      @apply text-sm text-zinc-500;
    }
  }
}
